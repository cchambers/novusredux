<ObjectTemplate>
	<ClientId>36</ClientId>
	<Name>[0078ff]Buried Treasure[-]</Name>
	<SharedStateEntry name="Capacity" type="int" value="100"/>
	<ObjectVariableComponent>
		<BoolVariable Name="Reward">True</BoolVariable>
		<BoolVariable Name="locked">True</BoolVariable>
		<DoubleVariable Name="DecayTime">300</DoubleVariable>
		<DoubleVariable Name="LockpickingDifficulty">75</DoubleVariable>
	</ObjectVariableComponent>
	<ScriptEngineComponent>
		<LuaModule Name="container"/>
		<LuaModule Name="decay"/>
		<LuaModule Name="fill_random_loot">
			<Initializer>
			{
				LootTables =
				{	
					-- Gold
					{
						NumCoins = math.random(6000,8000),
						NumCoins = math.random(6000,8000),
						NumCoins = math.random(6000,8000),
					},

					-- Rare
					{
						NumItems = math.random(0,1),
						LootItems = 
						{
							{ Chance = 25,Template = "idol_animal", Unique = true },
							{ Chance = 10,Template = "idol_hunger", Unique = true },
							{ Chance = 5,Template = "idol_demon", Unique = true },
							{ Chance = 5,Template = "ancient_idol", Unique = true },
						}
					},

					-- Maps
					{
						NumItems = math.random(0,2),
						LootItems = 
						{
							{ Chance = 20, Template = "treasure_map", Unique = true },
							{ Chance = 15, Template = "treasure_map_1", Unique = true },
							{ Chance = 10, Template = "treasure_map_2", Unique = true },
							{ Chance = 3, Template = "treasure_map_3", Unique = true },
							{ Chance = 1, Template = "treasure_map_4", Unique = true },
							{ Chance = 10, Template = "treasure_map_group", Unique = true },
							{ Chance = 5, Template = "treasure_map_group_1", Unique = true },
							{ Chance = 2.5, Template = "treasure_map_group_2", Unique = true },
							{ Chance = 1.25, Template = "treasure_map_group_3", Unique = true },
							{ Chance = 0.75, Template = "treasure_map_group_4", Unique = true },
						}
					},

					-- Ingredients
					{
						NumItemsMin = 2,
						NumItemsMax = 5,
						LootItems = 
						{
							{ Weight = 10, Template = "lesser_health_potion", Unique = true },
							{ Weight = 15, Template = "regular_health_potion", Unique = true },
							{ Weight = 20, Template = "greater_health_potion", Unique = true },
							{ Weight = 25, Template = "bandage", Unique = true },
							{ Weight = 1, Template = "sapphire_gem", Unique = true },
							{ Weight = 1, Template = "sapphire_gem", Unique = true },
							{ Weight = 1, Template = "ruby_gem", Unique = true },
							{ Weight = 1, Template = "topaz_gem", Unique = true },
						}
					},

					-- Jewelery
					{
						NumItems = 1,
						LootItems = 
						{
							{ Chance = 2, Template = "necklace_ruby_flawed", Unique = true },
							{ Chance = 2, Template = "necklace_sapphire_flawed", Unique = true },
							{ Chance = 2, Template = "necklace_topaz_flawed", Unique = true },
							{ Chance = 2, Template = "ring_sapphire_flawed", Unique = true },
							{ Chance = 2, Template = "ring_ruby_flawed", Unique = true },
							{ Chance = 2, Template = "ring_topaz_flawed", Unique = true },

							{ Chance = 1, Template = "necklace_ruby_imperfect", Unique = true },
							{ Chance = 1, Template = "necklace_sapphire_imperfect", Unique = true },
							{ Chance = 1, Template = "necklace_topaz_imperfect", Unique = true },
							{ Chance = 1, Template = "ring_sapphire_imperfect", Unique = true },
							{ Chance = 1, Template = "ring_ruby_imperfect", Unique = true },
							{ Chance = 1, Template = "ring_topaz_imperfect", Unique = true },
						}
					},

					-- Regs
					{
						NumItemsMin = 2,
						NumItemsMax = 3,
						LootItems = 
						{
							{ Weight = 10, Template = "ingredient_moss", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_lemongrass", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_mushroom", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_ginsengroot", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_blackpearl", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_bloodmoss", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_garlic", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_mandrakeroot", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_nightshade", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_spidersilk", Unique = true, StackCountMin = 20, StackCountMax = 35 },
							{ Weight = 9, Template = "ingredient_sulfurousash", Unique = true, StackCountMin = 20, StackCountMax = 35 },
						}
					},

					-- ScrollsLow
					{
						NumItemsMin = 1,
						NumItemsMax = 2,	
						LootItems = 
						{ 
							{ Weight = 5, Template = "lscroll_heal", Unique = true },
							{ Weight = 5, Template = "lscroll_cure", Unique = true },
							{ Weight = 5, Template = "lscroll_poison", Unique = true },
							{ Weight = 5, Template = "lscroll_ruin", Unique = true },
							{ Weight = 5, Template = "lscroll_mana_missile", Unique = true },

						},
					},	

					-- ScrollsMed
					{
						NumItemsMin = 2,
						NumItemsMax = 4,	
						LootItems = 
						{ 
							{ Weight = 5, Template = "lscroll_greater_heal", Unique = true },
							{ Weight = 5, Template = "lscroll_lightning", Unique = true },
							{ Weight = 5, Template = "lscroll_bombardment", Unique = true },
							{ Weight = 5, Template = "lscroll_electricbolt", Unique = true },
						},
					},	

					-- ScrollsHigh
					{
						NumItemsMin = 0,
						NumItemsMax = 1,
						LootItems =
						{ 
							{ Weight = 2, Template = "lscroll_resurrect", Unique = true },
							{ Weight = 2, Template = "lscroll_earthquake", Unique = true },
							{ Weight = 2, Template = "lscroll_meteor", Unique = true },
							{ Weight = 2, Template = "lscroll_portal", Unique = true },
						},
					},

					-- Arrows
					{
						NumItemsMin = 0,
						NumItemsMax = 1,
						LootItems =
						{ 
							{ Weight = 35, Template = "arrow", Unique = true, StackCountMin = 15, StackCountMax = 59 },
							{ Weight = 28, Template = "arrow_ash", Unique = true, StackCountMin = 15, StackCountMax = 42 },
							{ Weight = 3,  Template = "arrow_blightwood", Unique = true, StackCountMin = 15, StackCountMax = 36 },
						},
					},
				}
			}
			</Initializer>
		</LuaModule>
		<LuaModule Name="buried_treasure_lock">
			<Initializer>
			{
				MobTables = 
				{
					{ "gazer", "gazer", "gazer", "gazer", "gazer", "gazer", "gazer", "gazer_hq" },
					{ "rock_golem", "rock_golem", "rock_sprite", "rock_sprite", "rock_sprite", "lava_golem", "lava_golem" },
				}
			}
			</Initializer>
		</LuaModule>
	</ScriptEngineComponent>
</ObjectTemplate>